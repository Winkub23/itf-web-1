<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body style="text-align: center;">
    
    <h1 id="username" style="text-align: center;">Username</h1>
    <div id = "Profile" style=" left: 850px; position: relative; height: 200px; width: 200px; background-image: url(https://a.ltrbxd.com/resized/avatar/upload/1/6/8/3/9/0/5/1/shard/avtr-0-1000-0-1000-crop.jpg?v=f55855d1e0); background-position: center; border-radius: 100%; background-size: cover;">
        <div style="position: absolute; bottom: 10px; right: 10px; height: 30px; width: 30px; background-color: red; border-radius: 50%; display: flex; justify-content: center;"><p>1</p></div>
    </div>
    
    <div style="text-align: center;">
        <label style="text-align: center;">Set username</label>
        <input type="text" placeholder="Enter" id="input"><button onclick="setusername()">Set</button>
    </div>
    
    <div style="text-align: center;">
        <label>Set Profile</label>
        <input type="text" placeholder="Enter URL" id="inputimage"><button onclick="setimage()">Set</button>
    </div>
    
    <div style="text-align: center;">
        Member Name
    </div>
    <div style="display: inline-block; text-align: left;"> <!-- Wrapper for table and inputs to center them -->
        <label for="name">Name: </label>
        <input type="text" id="name" placeholder="Name">
        <label for="tel">Tel: </label>
        <input type="text" id="tel" placeholder="Tel">
        <button id="addBtn">ADD</button>
        <button id="exportBtn">EXPORT</button>

        <table id="phoneTable" border="1" style="margin-top: 20px; width: 100%;">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Name</th>
                    <th>Phone Number</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows will be added here dynamically -->
            </tbody>
        </table>
    </div>

    <script>
let count = 1;
        
        // Add Button Click Event
        document.getElementById('addBtn').addEventListener('click', function() {
            let name = document.getElementById('name').value;
            let tel = document.getElementById('tel').value;

            if (name && tel) {
                // Add a new row to the table
                let table = document.getElementById('phoneTable').getElementsByTagName('tbody')[0];
                let newRow = table.insertRow();

                // Insert cells
                let cell1 = newRow.insertCell(0);
                let cell2 = newRow.insertCell(1);
                let cell3 = newRow.insertCell(2);

                // Add content to the cells
                cell1.innerHTML = count++;
                cell2.innerHTML = name;
                cell3.innerHTML = tel;

                // Clear the input fields
                document.getElementById('name').value = '';
                document.getElementById('tel').value = '';
            }
        });

        // Export Button Click Event
        document.getElementById('exportBtn').addEventListener('click', function() {
            let table = document.getElementById('phoneTable');
            let rows = table.getElementsByTagName('tr');
            let csvContent = "data:text/csv;charset=utf-8,";

            for (let i = 0; i < rows.length; i++) {
                let cols = rows[i].querySelectorAll('td, th');
                let row = [];
                cols.forEach(function(col) {
                    row.push(col.innerText);
                });
                csvContent += row.join(",") + "\n";
            }

            let encodedUri = encodeURI(csvContent);
            let link = document.createElement('a');
            link.setAttribute('href', encodedUri);
            link.setAttribute('download', 'phone_list.csv');
            document.body.appendChild(link); // Required for Firefox
            link.click();
        });
        const username = document.getElementById("username");
        const input = document.getElementById("input")
        const Profile = document.getElementById("Profile")

        username.textContent= "Joy";
        console.log(Input.value);
        
        function setusername(){
            username.textContent = input.value;
            input.value = "";
        };

        function setimage(){
            Profile.style.backgroundImage = "url(" + inputimage.value + ")"
        }
        function createelement(){
            const c = document.createelement("")
            a.textContent = "Hello";
            document.getElementById("parent").appendChild(a);
            console.log(a.value);
        }
    </script>
</body>
</html>
